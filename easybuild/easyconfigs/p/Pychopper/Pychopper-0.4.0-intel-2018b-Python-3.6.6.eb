easyblock = 'PythonPackage'

name = 'Pychopper'
version = '0.4.0'
versionsuffix = '-Python-3.6.6'

homepage = 'https://github.com/nanoporetech/pychopper'
description = """A tool to identify full length cDNA reads.
Primers have to be specified as they are on the forward strand."""

toolchain = {'name': 'intel', 'version': '2018b'}

source_urls = ['https://github.com/nanoporetech/pychopper/archive']
sources = ['v%(version)s.tar.gz']
patches = ['parasail.patch']
checksums = [
    '5cdc6bdca0723d70072125fb9035692cc6c069b58b5797955a2c0425da8ede3f',  # v0.4.0.tar.gz
    '569505eac4a2c9b8433376089819bab773213067113eec38640597fb87e481ba',  # parasail.patch
]

dependencies = [
    ('Python', '3.6.6'),

]

exts_defaultclass = 'PythonPackage'
exts_list = [
    ('wheel', '0.32.3', {
        'source_urls': ['https://pypi.python.org/packages/source/w/wheel'],
        'checksums': ['029703bf514e16c8271c3821806a1c171220cc5bdd325cbf4e7da1e056a01db6'],
    }),
    ('parasail', '1.1.12', {
        'patches': ['parasail-ssl.patch'],
        'source_urls': ['https://pypi.python.org/packages/source/p/parasail'],
        'checksums': [
            '2056359885f4ee569b2c505e8b700c09cf03d6d74f3889a6de166e92aa5c827b',  # parasail-1.1.12.tar.gz
            '0119e8f8951a8f452b5a4d05ab29359edfee4faba3e0f3f3b3ac1544f9d7b753',  # parasail-ssl.patch
        ],
    }),
]

sanity_check_paths = {
    'files': ['lib/python3.7/site-packages/parasail/libparasail.so'],
    'dirs': ['bin']
}

moduleclass = 'bio'
